-- Generated by Oracle SQL Developer Data Modeler 3.1.0.700
--   at:        2016-12-15 23:31:17 IST
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



CREATE TABLE Application 
    ( 
     Application_Id NUMBER  NOT NULL , 
     Name VARCHAR2 (100) , 
     Description VARCHAR2 (200 CHAR) 
    ) 
    LOGGING 
;



ALTER TABLE Application 
    ADD CONSTRAINT Application_PK PRIMARY KEY ( Application_Id ) ;



--  This entity will maintain various batch based on the frequency of data
--  movement.
--  For Example Hourly/ daily / weekly jobs are clubbed to one batch
--  respectively based on the frequnecy. 
CREATE TABLE Batch 
    ( 
     Batch_Id NUMBER  NOT NULL , 
     Name VARCHAR2 (100) , 
     Description VARCHAR2 (200 CHAR) , 
     Frequency VARCHAR2 (100) , 
     Frequency_Type NUMBER , 
     Exec_Order NUMBER , 
     Application_Id NUMBER  NOT NULL 
    ) 
    LOGGING 
;



ALTER TABLE Batch 
    ADD CONSTRAINT Batch_PK PRIMARY KEY ( Batch_Id ) ;



CREATE TABLE Invoke_Script 
    ( 
     Invoke_Type VARCHAR2 (100) , 
     Invoke_Script VARCHAR2 (100) , 
     Description VARCHAR2 (200 CHAR) , 
     Task_Id NUMBER 
    ) 
    LOGGING 
;




CREATE TABLE Job 
    ( 
     Job_Id NUMBER  NOT NULL , 
     Name VARCHAR2 (100) , 
     Description VARCHAR2 (200 CHAR) , 
     Exec_Order NUMBER , 
     Batch_Id NUMBER  NOT NULL , 
     "Level" NUMBER 
    ) 
    LOGGING 
;



ALTER TABLE Job 
    ADD CONSTRAINT Job_PK PRIMARY KEY ( Job_Id ) ;



--  This entity will maintain the various possible Jobs level for example
--  1. Data extraction from the source - Level 0
--  2. Data ingestion to HDFS - Level 1
--  3. Data transformation for Hive - Level 2
--  4. Data transformation within hive as per business rules - Level 3
--  5. Data Extraction from Hive to load outside HDFS - Level 4 
CREATE TABLE Job_Level_Info 
    ( 
     "Level" NUMBER  NOT NULL , 
     Name VARCHAR2 (100) 
    ) 
    LOGGING 
;



ALTER TABLE Job_Level_Info 
    ADD CONSTRAINT Job_Level_Info_PK PRIMARY KEY ( "Level" ) ;



CREATE TABLE Source 
    ( 
     Source_ID NUMBER  NOT NULL , 
     Source_Name VARCHAR2 (100) , 
     Source_Type VARCHAR2 (100) , 
     Frequency VARCHAR2 (100) , 
--  Hourly/intraday -
--  Daily - 2
--  Weekly - 3
--  Monthly - 4
--  Yearly - 5
     Frequency_Type NUMBER , 
     Feed_type VARCHAR2 (100) , 
--  in case of RDBMS
     Table_Name VARCHAR2 (100) 
    ) 
    LOGGING 
;



ALTER TABLE Source 
    ADD CONSTRAINT Source_PK PRIMARY KEY ( Source_ID ) ;



CREATE TABLE Task 
    ( 
     Task_Id NUMBER  NOT NULL , 
     Name VARCHAR2 (100) , 
     Description VARCHAR2 (200 CHAR) , 
     Exec_Order NUMBER , 
     Job_Id NUMBER  NOT NULL , 
     Source_ID NUMBER , 
     Source_Count NUMBER , 
     Expected_Target_Count NUMBER , 
     Actual_Target_Count NUMBER , 
     Error_Count NUMBER 
    ) 
    LOGGING 
;



ALTER TABLE Task 
    ADD CONSTRAINT Task_PK PRIMARY KEY ( Task_Id ) ;



CREATE TABLE Task_Parameter 
    ( 
     Parameter_Name VARCHAR2 (100) , 
     Parameter_Value VARCHAR2 (100) , 
     Task_Id NUMBER 
    ) 
    LOGGING 
;






-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                             8
-- CREATE INDEX                             0
-- ALTER TABLE                              6
-- CREATE VIEW                              0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE STRUCTURED TYPE                   0
-- CREATE COLLECTION TYPE                   0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
